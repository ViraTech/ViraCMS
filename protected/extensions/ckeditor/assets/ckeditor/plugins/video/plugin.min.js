(function(){CKEDITOR.plugins.add("video",{lang:["en","es","ru"],getPlaceholderCss:function(){return"img.cke_video{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;background-color:gray;border: 1px solid #a9a9a9;width: 80px;height: 80px;}"},onLoad:function(){if(CKEDITOR.addCss){CKEDITOR.addCss(this.getPlaceholderCss())}},init:function(d){var e=d.lang.video;if(typeof d.element.data=="undefined"){alert('The "video" plugin requires CKEditor 3.5 or newer');return}CKEDITOR.dialog.add("video",this.path+"dialogs/video.js");d.addCommand("Video",new CKEDITOR.dialogCommand("video"));d.ui.addButton("Video",{label:e.toolbar,command:"Video",icon:this.path+"images/icon.png"});if(d.addCss){d.addCss(this.getPlaceholderCss())}if(d.addMenuItems){d.addMenuItems({video:{label:e.properties,command:"Video",group:"flash"}})}d.on("doubleclick",function(f){var g=f.data.element;if(g.is("img")&&g.data("cke-real-element-type")=="video"){f.data.dialog="video"}});if(d.contextMenu){d.contextMenu.addListener(function(f,g){if(f&&f.is("img")&&!f.isReadOnly()&&f.data("cke-real-element-type")=="video"){return{video:CKEDITOR.TRISTATE_OFF}}})}CKEDITOR.dtd.$empty["cke:source"]=1;CKEDITOR.dtd.$empty.source=1;d.lang.fakeobjects.video=e.fakeObject},afterInit:function(e){var d=e.dataProcessor,g=d&&d.htmlFilter,f=d&&d.dataFilter;f.addRules({elements:{$:function(l){if(l.name=="video"){l.name="cke:video";for(var k=0;k<l.children.length;k++){if(l.children[k].name=="source"){l.children[k].name="cke:source"}}var j=e.createFakeParserElement(l,"cke_video","video",false),n=j.attributes.style||"";var m=l.attributes.width,h=l.attributes.height,o=l.attributes.poster;if(typeof m!="undefined"){n=j.attributes.style=n+"width:"+CKEDITOR.tools.cssLength(m)+";"}if(typeof h!="undefined"){n=j.attributes.style=n+"height:"+CKEDITOR.tools.cssLength(h)+";"}if(o){n=j.attributes.style=n+"background-image:url("+o+");"}return j}}}})}});var b={toolbar:"HTML5 video (WebM,MP4)",dialogTitle:"Video properties",fakeObject:"Video",properties:"Edit video",widthRequired:"Width field cannot be empty",heightRequired:"Height field cannot be empty",poster:"Poster image",sourceVideo:"Source video",sourceType:"Video type",linkTemplate:'<a href="%src%">%type%</a> ',fallbackTemplate:"Your browser doesn't support video.<br>Please download the file: %links%"};var c={toolbar:"HTML5 video (WebM,MP4)",dialogTitle:"Propiedades de video",fakeObject:"Video",properties:"Editar el video",widthRequired:"La anchura no se puede dejar en blanco",heightRequired:"La altura no se puede dejar en blanco",poster:"Imagen de presentación",sourceVideo:"Archivo de video",sourceType:"Tipo",linkTemplate:'<a href="%src%">%type%</a> ',fallbackTemplate:"Su navegador no soporta VIDEO.<br>Por favor, descargue el fichero: %links%"};var a={toolbar:"Видео HTML5 (WebM,MP4)",dialogTitle:"Свойства видео",fakeObject:"Видео",properties:"Изменить видео",widthRequired:"Укажите ширину",heightRequired:"Укажите высоту",poster:"Изображение для видео",sourceVideo:"Видеофайл",sourceType:"Тип видеофайла",linkTemplate:'<a href="%src%">%type%</a> ',fallbackTemplate:"Your browser doesn't support video.<br>Please download the file: %links%"};if(CKEDITOR.skins){b={video:b};c={video:c}}CKEDITOR.plugins.setLang("video","en",b);CKEDITOR.plugins.setLang("video","es",c);CKEDITOR.plugins.setLang("video","ru",a)})();