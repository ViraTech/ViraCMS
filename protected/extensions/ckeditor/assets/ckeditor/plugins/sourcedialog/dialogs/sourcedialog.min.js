CKEDITOR.dialog.add("sourcedialog",function(d){var b=CKEDITOR.document.getWindow().getViewPaneSize();var c=Math.min(b.width-70,800);var a=b.height/1.5;var e;return{title:d.lang.sourcedialog.title,minWidth:100,minHeight:100,onShow:function(){this.setValueOf("main","data",e=d.getData())},onOk:(function(){function f(g,h){d.focus();d.setData(h,function(){g.hide();var i=d.createRange();i.moveToElementEditStart(d.editable());i.select()})}return function(i){var g=this.getValueOf("main","data").replace(/\r/g,""),h=this;if(g===e){return true}setTimeout(function(){f(h,g)});return false}})(),contents:[{id:"main",label:d.lang.sourcedialog.title,elements:[{type:"textarea",id:"data",dir:"ltr",inputStyle:"cursor:auto;width:"+c+"px;height:"+a+"px;tab-size:4;text-align:left;","class":"cke_source"}]}]}});